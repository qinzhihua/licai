define("user:page/message/list/list.js",function(require,exports,module){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=require("common:node_modules/react/react"),ReactDOM=require("common:node_modules/react-dom/index"),$=require("common:widget/lib/jquery/jquery"),RWeDialog=require("common:widget/react-ui/RWeDialog/RWeDialog"),RListInfo=require("user:widget/message/info/RListInfo.jsx"),PageError=function(_React$Component){function PageError(props){_classCallCheck(this,PageError),_React$Component.call(this,props),this.state={tipShowing:!1},this.showDialog=this.showDialog.bind(this),this.hideDialog=this.hideDialog.bind(this)}return _inherits(PageError,_React$Component),PageError.prototype.showDialog=function(){this.setState({tipShowing:!0})},PageError.prototype.hideDialog=function(){this.setState({tipShowing:!1})},PageError.prototype.render=function(){var weDialog=void 0;if(this.state.tipShowing){var weProps={showing:!0,onRequestClose:this.hideDialog};weDialog=React.createElement(RWeDialog,weProps,React.createElement("div",{className:"tip-content"},"网络异常，请稍候再试。"))}return React.createElement("div",{className:"message-content"},weDialog)},PageError}(React.Component),MessageListComponent={init:function(userId){$.ajax({url:"/pc/user/message/getMessageList",type:"GET",success:function(data){var result=void 0,pageDom=void 0;try{result=JSON.parse(data),pageDom=React.createElement(RListInfo,{data:result,userId:userId})}catch(e){pageDom=React.createElement(PageError,null),console.log(e)}ReactDOM.render(pageDom,document.getElementById("messageList"))},error:function(e){console.log(e)}})}};module.exports=MessageListComponent});